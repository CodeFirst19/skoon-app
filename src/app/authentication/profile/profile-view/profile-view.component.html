
<div class="mat-typography">
    <div class="">
        <div class="wrapper" *ngIf="user">
            <div class="profile">
                <div class="text-center">
                    <img mat-card-image src="../../../assets/images/profile-icon.png" />
                </div>
                <div class="check"><i class="fas fa-check"></i></div>
                <h3 class="name">{{ user.preferredName }}</h3>
                <p class="title">{{ user.address }}</p>
                <p class="description mx-5">You has by far requested <strong>0</strong> services. <a class="user-services-link"><strong>Click here</strong></a> to view all your completed service requests.</p>
                <div class="social-icons text-center">
                    <div class="icon me-5">
                            <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                                <mat-icon>email</mat-icon>
                            </button>
                        <p class="mt-1">{{ user.email }}</p>
                    </div>
                    <div class="icon">
                        <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                            <mat-icon>phone</mat-icon>
                        </button>
                        <p class="mt-1">
                            {{user.phone.substring(0, 3)}} 
                            {{user.phone.substring(3, 6)}} 
                            {{user.phone.substring(6, 10)}} 
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="mt-2 social-media-profiles" *ngIf="user.socialMediaHandles.length > 0">
                <h4 class="social-media-profile-header text-center">Social Media Profiles</h4>
                <div class = "row text-center" *ngFor="let profile of user.socialMediaHandles">
                    <p>{{ profile }}</p>
                </div>
            </div>
            <div class="action-btns-wrapper mt-4">
                <button mat-flat-button color="primary">Edit Profile</button>
                <a mat-flat-button color="primary" routerLink="/update-profile">Update Password</a>
                <button mat-flat-button color="warn">Delete Account</button>
            </div>
        </div>
        <div class="" *ngIf="!user">
            <mat-card>
                <mat-card-content>
                    <div class="alert alert-danger" role="alert">
                        <h4 class="alert-heading">Looks Like Something Went Wrong!</h4>
                        <p>We are unable to load your profile. Please refresh the page. If the error still persists, try logging out and in again.</p>
                        <hr>
                        <p class="mb-0">We apologize for the inconvenience.</p>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>
